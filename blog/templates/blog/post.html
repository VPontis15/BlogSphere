
{% extends '../layout.html' %}
{% load static %}
{% block style %}

<link rel="stylesheet" href="{% static 'post.css' %}">
{% endblock  %}
 {% block title %}BlogSphere | {{post.title}}{% endblock title %}
 {% block content %}
 <div class="container"> 
    <a class='see-all' href="{% url "posts" %}">See all posts</a>
    <article>
    <header class="article_header">
      <div class="row-header">
      <p class="article_header-posted-by">Posted by:</p>
      <span class="author-post__details-date article_header-date">{{post.created_at|date:"d/m/y"}}</span>
    </div>
      <div class="row">
      {% if post.author != request.user %}
      <a href="{% url 'user-profile' username=post.author tab='informations' %}"> 
         {% else %}
         <a href="{% url 'editProfile' %}?tab=informations">  
      {% endif %}
      {% if post.author.profile.profile_pic %}
      <img class="profile-picture" src="{{ post.author.profile.profile_pic.url }}" alt="Profile Picture">
      
      {% else %}
         <img class="no-picture" src="{% static 'images/no-profile-picture.svg' %}" alt="">
         {% endif%}
      
      </a>
         <div class="author-post__details article_header-user_details">
          
             {% if post.author != request.user  %}
             <a href="{% url 'user-profile' username=post.author tab='informations' %}">
                 <span class="author-post__details-name article_header-username">{{post.author.username}}</span> </a>{% endif %}
          
             {% if post.author == request.user  %}
             <a href="{% url 'editProfile' %}?tab=informations">
                 <span class="author-post__details-name article_header-username">{{post.author.username}}</span> </a>{% endif %}
                 {% if  post.author.profile.job %}
                 <span class="author-post__details-date article_header-job">{{post.author.profile.job}}</span>{% endif %}</div></div>
    <h1 class="article-title">{{post.title}}</h1></header>
      <p>{{post.body |safe}}</p>
    </article></div>

 
    <h2 class="comments-heading">Comments <span class="count">({{post.comments.count}})</span></h2>{% endblock content %}
    {% block comments %}
    <hr> 
    {% if request.user.is_authenticated %}
    {% include "blog\components\commentForm.html" %}
    {% endif %}
    <section class="comments container">
      {% for comment in post.comments.all %}
     
      {% include "blog\components\comment.html" %}
      {% endfor %}
    </section>
    {% endblock comments %}
    
